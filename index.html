<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="./assets/css/styles.css/" />

    <title>Weather Dashboard</title>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <aside class="col-lg-3 bg-light">
          <div class="form-inline form-group">
            <input class="form-control" type="text" id="search-value" />
            <button class="btn btn-primary" id="search-button">
              <i class="fa fa-search"></i>
            </button>
          </div>

          <ul class="list-group history"></ul>
        </aside>

        <div class="col-lg-9">
          <div id="today" class="mt-3"></div>
          <div id="forecast" class="mt-3"></div>
        </div>
      </div>
    </div>

    <!-- Retrieved data will be dumped here -->
    <div class="city"></div>
    <div class="wind"></div>
    <div class="humidity"></div>
    <div class="temp"></div>
    <div class="tempF"></div>
    <div class="UVIndex"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      // This is our API key. Add your own API key between the ""
      var APIKey = "0f86381e892cb59b592590e413e1d1c7";

      // Here we are building the URL we need to query the database
      var queryURL =
        "https://api.openweathermap.org/data/2.5/weather?q=${city},${state}&appid=${0f86381e892cb59b592590e413e1d1c7}";

      // We then created an AJAX call

      $.ajax({
        url: queryURL,
        method: "GET",
      }).then(function (response) {
        console.log(response);

        // Create CODE HERE to Log the queryURL
        // Create CODE HERE to log the resulting object

        // Create CODE HERE to calculate the temperature (converted from Kelvin)
        var city = response.name;
        var wind = response.wind.speed;
        var humidity = response.main.humidity;
        var temp = response.main.temp;
        var tempF = response.main.tempF;
        var UVIndex = response.main.UVIndex;
        // Create CODE HERE to transfer content to HTML
        $(".city").text(`City: ${city}`);
        +":" + city;
        $(".wind").text(`Wind: ${wind}`);
        +":" + wind;
        $(".min").text(`Min: ${min}`);
        +":" + min;
        $(".max").text(`Max: ${max}`);
        +":" + max;
        $(".uvIndex").text(`lat: ${lat}`);
        +":" + lat;
        $(".uvIndex").text(`lon: ${lon}`);
        +":" + lon;
        // Hint: To convert from Kelvin to Fahrenheit: F = (K - 273.15) * 1.80 + 32

        // Create CODE HERE to dump the temperature content into HTML
        $(".temp").text("temperature");
      });
    </script>
  </body>
</html>
